# 자바 메모리 구조
- 메서드 영역 : 클래스 정보를 보관
- 스택 영역 : 실제 프로그램이 실행되는 영역, 메서드가 실행될 때마다 쌓인다.
- 힙 영역 : new(), 인스턴스가 생성되는 영역

### 메서드 영역
- 프로그램이 필요한 공통 데이터를 관리, 프로그램의 모든 영역에서 공유
  - 클래스 정보 : 클래스, 메서드 등의 실행 코드
  - static 영역 : static 변수 보관
  - 런타임 상수 풀 (자바의 최적화 영역)

> 메서드 코드는 메서드 영역에 생성된다. 인스턴스를 여러개 만들어도 메서드는 공유하는 것.  
> 인스턴스는 힙 영역에 생성되지만, 메서드 영역에서 메서드를 호출해서 사용

### 스택 영역
- 자바 실행시 하나의 실행 스택이 생성됨
  - 스택 프레임 : 메서드 호출시 프레임이 쌓이고 메서드가 종료되면 해당 스택 프레임은 없어짐
    - 스택 프래임 내에는 지역 변수, 중간 연산 결과, 메서드 호출 정보 등을 포함한다.

### 힙 영역
- 객체(인스턴스)와 배열이 생성 되는 영역
- GC가 이루어지는 영역

> 스택 영역은 각 쓰레드 별로 실행 스택이 생성됨 (멀티 쓰레드)


# 스택과 힙 영역
## 스택과 큐
- 스택 : 후입선출(LIFO)
- 큐 : 선입선출(FIFO)

> 프로그램 실행과 메서드 호출에는 스택 구조가 적합하다.

**스택 프레임**  
> 자바는 스택 영역을 사용해서 메서드 호출과 지역 변수(매개변수 포함)을 관리한다.
> 메서드를 계속 호출하면 스택 프레임이 계속 쌓인다.
> 스택 프레임이 종료되면 지역 변수도 함께 제거된다.

**스택과 힙 영역**
> 인스턴스가 생성 되면, 힙 영역에 생성되고
> 메서드의 매개변수로 전달하면 힙 영역의 인스턴스를 참조한다.
> 해당 인스턴스를 참조하는 곳이 없다면, GC가 제거시킨다.
> 힙 영역 안에서만 인스턴스끼리 참조하는 경우에도 GC의 대상이 된다.

> 지역 변수는 스택 영역에, 객체는 힙 영역에서 관리된다.

